services:
  opencode:
    build:
      context: .
      dockerfile: Dockerfile
    image: opencode-super:latest
    stdin_open: true
    tty: true
    working_dir: /workspace
    volumes:
      - ${PWD}:/workspace
      - ${HOME}/.local/share/opencode:/home/opencode/.local/share/opencode
    environment:
      OPENAI_API_KEY: ${OPENAI_API_KEY:-}
      CONTEXT7_API_KEY: ${CONTEXT7_API_KEY:-}
      EXA_API_KEY: ${EXA_API_KEY:-}
